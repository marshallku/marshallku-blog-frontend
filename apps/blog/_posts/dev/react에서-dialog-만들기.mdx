---
title: Reactì—ì„œ dialog ë§Œë“¤ê¸°
description: ë°”ì˜ë‹¤ëŠ” í•‘ê³„ë¡œ ë„ˆë¬´ ì˜¤ëœë§Œì— ê¸€ì„ ì˜¬ë¦¬ëŠ” ê²ƒ ê°™ë„¤ìš”. ğŸ˜¥ 1ì¼ 1ì»¤ë°‹ ê·¸ê±° ë­ ë³„ì¼ì¸ê°€ í•˜ëŠ” ìƒê°ìœ¼ë¡œ ì‚´ê³ ëŠ” ìˆì§€ë§Œ, ê·¸ê²ƒê´€ ë³„ê°œë¡œ 770ì¼ê°„ ìŒ“ì•„ ì˜¬ë¦° íƒ‘ì´ ë¬´ë„ˆì§€ëŠ” ê±´ ìŠ¬í”ˆ ì¼ì´ë¼ ì¼í•˜ë©´ì„œë„ ê¾¸ì¤€íˆ contributeì€ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.ê·¸ëŸ¬ë‹¤ ë³´ë‹ˆ í‡´ê·¼í•˜ê³  ì½”ë“œ ì¢€ ì¹˜ë©´ ì‚°ì±…(ë§¤ì¼ í•œ ì‹œê°„ ì´ìƒì€ ë’·ì‚°ì„ ê±·ìŠµë‹ˆë‹¤) ë‚˜ê°ˆ ì‹œê°„ì´ë¼ ë¸”ë¡œê·¸ì— í†µ ì‹ ê²½ì„ ëª» ì“°ê³  ìˆì—ˆë„¤ìš”. uaì— ë‚´ì¥ëœ window.confirm,
date:
  posted: 2022-07-22T11:49:00.000Z
  modified: 2023-11-19T07:55:00.000Z
tags:
  - ReactJS
  - TypeScript
coverImage: /images/2024/01/react-dialog.png
ogImage: /images/2024/01/react-dialog.png
---

ë°”ì˜ë‹¤ëŠ” í•‘ê³„ë¡œ ë„ˆë¬´ ì˜¤ëœë§Œì— ê¸€ì„ ì˜¬ë¦¬ëŠ” ê²ƒ ê°™ë„¤ìš”. ğŸ˜¥

1ì¼ 1ì»¤ë°‹ ê·¸ê±° ë­ ë³„ì¼ì¸ê°€ í•˜ëŠ” ìƒê°ìœ¼ë¡œ ì‚´ê³ ëŠ” ìˆì§€ë§Œ, ê·¸ê²ƒê´€ ë³„ê°œë¡œ 770ì¼ê°„ ìŒ“ì•„ ì˜¬ë¦° íƒ‘ì´ ë¬´ë„ˆì§€ëŠ” ê±´ ìŠ¬í”ˆ ì¼ì´ë¼ ì¼í•˜ë©´ì„œë„ ê¾¸ì¤€íˆ contributeì€ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
ê·¸ëŸ¬ë‹¤ ë³´ë‹ˆ í‡´ê·¼í•˜ê³  ì½”ë“œ ì¢€ ì¹˜ë©´ ì‚°ì±…(ë§¤ì¼ í•œ ì‹œê°„ ì´ìƒì€ ë’·ì‚°ì„ ê±·ìŠµë‹ˆë‹¤) ë‚˜ê°ˆ ì‹œê°„ì´ë¼ ë¸”ë¡œê·¸ì— í†µ ì‹ ê²½ì„ ëª» ì“°ê³  ìˆì—ˆë„¤ìš”.

---

<video autoPlay loop muted playsInline src="/images/2022/07/React-Dialog.mp4" />

[ë¼ì´ë¸Œ ë°ëª¨](https://reactdialog.netlify.app/)

uaì— ë‚´ì¥ëœ `window.confirm`, `window.alert`, `window.prompt` ë“± í´ë˜ì‹í•¨ì„ ì•„ë“íˆ ì§€ë‚˜ì³ ë‚¡ì€ ë””ìì¸ì„ ê°€ì§„ ì°½ë“¤ì„ ê°„ë‹¨í•˜ê²Œ ëŒ€ì²´í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.  
í´ë” êµ¬ì¡°ë¥¼ í¬í•¨í•œ ì½”ë“œëŠ” Githubì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë„êµ¬ë¡œ zustandë¥¼ ì‚¬ìš©í–ˆëŠ”ë°, ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ê°€ ì ìœ¼ë‹ˆ ì‚¬ìš©í•˜ì‹œëŠ” ìŠ¤íƒìœ¼ë¡œ ì˜®ê²¨ê°€ì‹œê¸° í¸í•˜ì§€ ì•Šì„ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.

```ts
export type ResponseHandler<T = unknown> = (value: T | PromiseLike<T>) => void;
export type DialogType = "alert" | "confirm" | "prompt";

export interface DialogStore<T = unknown> {
    title: string;
    setTitle(text: string): void;
    description: string;
    setDescription(description: string): void;
    type: DialogType;
    setType(state: DialogType): void;
    revealed: boolean;
    setRevealed: (show: boolean) => void;
    responseHandler?: ResponseHandler<T>;
    setResponseHandler(responseHandler: ResponseHandler<T>): void;
}
```

storeì˜ íƒ€ì…ì…ë‹ˆë‹¤.  
ìì„¸í•œ ì„¤ëª…ì€ ì•„ë˜ì—ì„œ í•˜ê² ìŠµë‹ˆë‹¤.

```ts
import create from "zustand";
import { DialogStore } from "../@types/useDialogStore";

export default create<DialogStore>((set) => ({
    title: "",
    setTitle(title) {
        set((prev) => ({ ...prev, title }));
    },
    description: "",
    setDescription(description) {
        set((prev) => ({ ...prev, description }));
    },
    type: "alert",
    setType(type) {
        set((prev) => ({ ...prev, type }));
    },
    revealed: false,
    setRevealed(revealed) {
        set((prev) => ({ ...prev, revealed }));
    },
    setResponseHandler(responseHandler) {
        set((prev) => ({ ...prev, responseHandler }));
    },
}));
```

`WEBSITE says`ê°€ ë“¤ì–´ê°ˆ `title`ê³¼ ë‚´ìš©ì„ ì €ì¥í•  `description`ì„ ì œì¼ ë¨¼ì € ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.  
ë‹¤ìŒìœ¼ë¡œ `alert`, `confirm`, `prompt` ì„¸ íƒ€ì… ì¤‘ í˜„ì¬ ë„ìš´ ì°½ì´ ì–´ë–¤ ê²ƒì¼ì§€ë¥¼ ì €ì¥í•  ê³³ë„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.  
ë§ˆì§€ë§‰ìœ¼ë¡œ ì°½ì˜ í‘œì‹œ ì—¬ë¶€ ìƒíƒœë¥¼ ì €ì¥í•  ê³³ì„ ë§Œë“¤ê³ , ê¸°ì¡´ì— `alert` ë“±ì´ ë™ì‘í•˜ëŠ” ê²ƒì²˜ëŸ¼ í›„ì˜ ë™ì‘ì„ `await`ìœ¼ë¡œ ë§‰ê¸° ìœ„í•´ `Promise`ë¥¼ ì‚¬ìš©í•  ê±´ë°, executor ì¤‘ `resolve`ë¥¼ `responseHandler`ì— ë‹´ì„ ì˜ˆì •ì…ë‹ˆë‹¤.

```ts
import useDialogStore from "../store/useDialogStore";
import { DialogType } from "../@types/useDialogStore";

export default function useDialog() {
    const {
        setTitle,
        setDescription,
        setRevealed,
        setType,
        responseHandler,
        setResponseHandler,
    } = useDialogStore();

    const onInteractionEnd = (value: string | boolean) => {
        setRevealed(false);
        responseHandler?.(value);
        setTitle("");
        setDescription("");
    };

    const setAttributes = (
        type: DialogType,
        title: string,
        description: string
    ) => {
        setRevealed(true);
        setTitle(title);
        setDescription(description);
        setType(type);
    };

    const confirm = (title: string, description = "") => {
        setAttributes("confirm", title, description);

        return new Promise<boolean>((res) => {
            setResponseHandler(res);
        });
    };

    const alert = (title: string, description = "") => {
        setAttributes("alert", title, description);

        return new Promise<boolean>((res) => {
            setResponseHandler(res);
        });
    };

    const prompt = (title: string, description = "") => {
        setAttributes("prompt", title, description);

        return new Promise<boolean>((res) => {
            setResponseHandler(res);
        });
    };

    return {
        confirm,
        alert,
        prompt,
        onInteractionEnd,
    };
}
```

ì´ì œ í›…ì„ ë§Œë“¤ì–´ì£¼ë©´ ì¤€ë¹„ëŠ” ê±°ì˜ ëë‚¬ìŠµë‹ˆë‹¤.  
`alert`, `confirm`, `prompt`ë¥¼ í˜¸ì¶œí•˜ë©´ ì œëª© ë“±ì„ ì„¤ì •í•œ ë’¤ `Promise`ë¥¼ ë°˜í™˜í•˜ë©°, ì°½ì´ ë‹«í ë•Œ `onInteractionEnd`ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ë§Œë“¤ ê²ë‹ˆë‹¤.

```tsx
import { memo, useCallback, useRef } from "react";
import { createPortal } from "react-dom";
import useDialogStore from "../store/useDialogStore";
import useDialog from "../hooks/useDialog";
import "./Dialog.css";

export default function Dialog() {
    const dialogRoot = document.getElementById("dialog") as HTMLElement;
    const inputRef = useRef<HTMLInputElement>(null);
    const { revealed, title, description, type } = useDialogStore();
    const { onInteractionEnd } = useDialog();
    const handleConfirmClick = useCallback(() => {
        if (type === "prompt") {
            onInteractionEnd(inputRef.current?.value || "");
            return;
        }

        onInteractionEnd(true);
    }, [inputRef.current, type, onInteractionEnd]);
    const handleCancelClick = useCallback(() => {
        if (type === "prompt") {
            onInteractionEnd("");
            return;
        }

        onInteractionEnd(false);
    }, [type, onInteractionEnd]);
    const DialogComponent = memo(() => (
        <>
            <div className="dialog-backdrop" onClick={handleCancelClick} />
            <section className="dialog">
                <h2 className="dialog__title">{title}</h2>
                {description && (
                    <p className="dialog__description">{description}</p>
                )}
                {type === "prompt" && (
                    <form onSubmit={handleConfirmClick}>
                        <input
                            autoFocus
                            type="text"
                            className="dialog__input"
                            ref={inputRef}
                        />
                    </form>
                )}
                <div className="dialog__buttons">
                    <button
                        type="button"
                        className="dialog__button dialog__button--confirm"
                        onClick={handleConfirmClick}
                    >
                        OK
                    </button>
                    {type !== "alert" && (
                        <button
                            type="button"
                            className="dialog__button dialog__button--cancel"
                            onClick={handleCancelClick}
                        >
                            Cancel
                        </button>
                    )}
                </div>
            </section>
        </>
    ));

    return createPortal(revealed ? <DialogComponent /> : null, dialogRoot);
}
```

typeì´ alertì¼ ë• í™•ì¸ë§Œ ëœ¨ê²Œ í•˜ëŠ” ë“± ê° ìƒí™©ì— ë§ê²Œ ë§ˆí¬ì—…ì„ ì§œì¤¬ìŠµë‹ˆë‹¤.

êµ³ì´ ìƒíƒœë¥¼ ë§Œë“¤ í•„ìš”ëŠ” ì—†ì„ ê²ƒ ê°™ì•„ `input`ì€ `useRef`ë¡œ ê´€ë¦¬í•˜ì—¬, ì°½ì´ ë‹«í ë•Œ ê·¸ ê°’ì„ êº¼ë‚´ì˜¤ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

```html
<div id="dialog"></div>
```

í¬íƒˆì„ ì—´ì—ˆìœ¼ë‹ˆ `#dialog`ë¥¼ ì¶”ê°€í•´ì£¼ëŠ” ê²ƒë„ ìŠìœ¼ë©´ ì•ˆ ë©ë‹ˆë‹¤.

```css
.dialog-backdrop {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: rgba(0, 0, 0, 0.5);
}

.dialog {
    --dialog-primary: #e57373;
    position: fixed;
    top: 50%;
    left: 50%;
    width: clamp(0px, 90vw, 400px);
    padding: 16px;
    background-color: #fff;
    transform: translate3d(-50%, -50%, 0);
    box-sizing: border-box;
    border-radius: 8px;
    line-height: 1.5;
}

.dialog__title {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
    font-weight: bold;
    line-height: 1.5;
}

.dialog__description {
    margin: 0.5rem 0;
    line-height: 1.3;
}

.dialog__input {
    display: block;
    width: 100%;
    margin: 0.5rem 0;
    padding: 0.4rem 0.8rem;
    border: 2px solid #121212;
    border-radius: 0.3rem;
    outline: 0;
    font-size: 1.1rem;
    box-sizing: border-box;
}

.dialog__input:focus {
    border-color: var(--dialog-primary);
}

.dialog__buttons {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.dialog__button {
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
}

.dialog__button--confirm {
    border: 1px solid var(--dialog-primary);
    background-color: var(--dialog-primary);
}

.dialog__button--cancel {
    border: 1px solid #e1e1e1;
    background-color: #fff;
    color: var(--dialog-primary);
}

@media (prefers-color-scheme: dark) {
    .dialog {
        --dialog-primary: #ffcdd2;
        background-color: #121212;
        color: #f1f1f1;
    }

    .dialog__input {
        background-color: #121212;
        color: #f1f1f1;
        border-color: #f1f1f1;
    }

    .dialog__button--confirm {
        color: #121212;
    }

    .dialog__button--cancel {
        border: 1px solid #4f4f4f;
        background-color: #121212;
        color: var(--dialog-primary);
    }
}
```

ë„ˆë¬´ ë°‹ë°‹í•˜ì§€ë§Œ ì•Šê²Œ ë””ìì¸í•´ë’€ìŠµë‹ˆë‹¤.  
ë§ˆí¬ì—…ì—ì„œë„ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, ì¡°ê¸ˆ ë” ì°½ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë°°ê²½ì„ ì–´ë‘¡ê²Œ ë§Œë“œëŠ” ì‘ì—…ë„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

`prefers-color-scheme`ì€ ì—¬ê¸°ì„œë§Œ ì‘ì—…í•´ë‘ë©´ ì°½ì´ ëœ¨ëŠ” í˜ì´ì§€ì™€ ì–´ìš¸ë¦¬ì§€ ì•Šì„ ìˆ˜ ìˆì–´ ì‘ì—…í•˜ëŠ” ê²Œ ë§ì„ì§€ ê³ ë¯¼ì„ ì ê¹ í–ˆëŠ”ë°, ì ê¹ ê³ ë¯¼í•´ë³´ë‹ˆ uaê°€ ë„ìš°ëŠ” ì°½ë„ ê·¸ëƒ¥ ì‚¬ìš©ìê°€ ì„ í˜¸í•˜ëŠ” ìƒ‰ìƒì— ë”°ë¼ ë°°ê²½ìƒ‰ì´ ê²°ì •ë˜ë‹ˆ í° ìƒê´€ì´ ì—†ì§€ ì•Šì„ê¹Œ ì‹¶ì–´ ì‘ì—…í•´ë’€ìŠµë‹ˆë‹¤.

```tsx
import { useCallback, useState } from "react";
import useDialog from "./hooks/useDialog";

export default function App() {
    const { confirm, alert, prompt } = useDialog();
    const [message, setMessage] = useState("");

    const showConfirm = useCallback(async () => {
        const confirmed = await confirm(
            "Are you sure?",
            "This can't be undone."
        );

        setMessage(confirmed ? "Sure!" : "Nope.");
    }, []);

    const showAlert = useCallback(async () => {
        await alert("Hello there!");

        setMessage("Will update after alert");
    }, []);

    const showPrompt = useCallback(async () => {
        const inputted = await prompt("What's your name?");

        setMessage(`Your name is ${inputted}`);
    }, []);

    return (
        <div style={{ textAlign: "center" }}>
            <button type="button" onClick={showConfirm}>
                Confirm
            </button>
            <button type="button" onClick={showAlert}>
                Alert
            </button>
            <button type="button" onClick={showPrompt}>
                Prompt
            </button>
            <h1>{message}</h1>
        </div>
    );
}
```

ì´ì œ ëì…ë‹ˆë‹¤!  
ë¹„ë¡ ë§¤ë²ˆ `async` í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  `await`ì„ ë§¤ë²ˆ ê±¸ì–´ì¤˜ì•¼ í•œë‹¤ëŠ” ê²Œ ì•ˆíƒ€ê¹ê¸´ í•˜ì§€ë§Œ, ë””ìì¸ì ìœ¼ë¡œ í›¨ì”¬ ììœ ë¡­ê²Œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ í™œìš©í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì¶©ë¶„íˆ ê·¸ë§Œí•œ ê°€ì¹˜ê°€ ìˆì§€ ì•Šë‚˜ ì‹¶ìŠµë‹ˆë‹¤.